<template>
    <svg xmlns="http://www.w3.org/2000/svg" width="247.2" height="376.61" id="p1">
        <defs>
            <linearGradient :id="'anim-gradient-p' + player" x1="50%" y1="0%" x2="50%" y2="100%">
                <stop offset="0%" :stop-color="gdc1">
                    <animate attributeName="stop-color" :values="mountGradient(gdc1, gdc2)"
                             dur="6s"
                             repeatCount="indefinite"></animate>
                </stop>

                <stop offset="100%" :stop-color="gdc2">
                    <animate attributeName="stop-color" :values="mountGradient(gdc2, gdc1)"
                             dur="6s"
                             repeatCount="indefinite"></animate>
                </stop>
            </linearGradient>
            <clipPath id="clipChar1">
                <path id="char1" class="cls-1"
                      d="M117.79 101.32a92.47 92.47 0 01-6.86 35.84 73.25 73.25 0 01-9.56 16.54 52.45 52.45 0 00-7.08-7.21 54.48 54.48 0 00-35.4-13c-1.53 0-3 .05-4.53.2a54.49 54.49 0 00-37.26 19.2C7.3 139.86 1.28 122 1.28 101.32A117.14 117.14 0 0159.54 0a117.46 117.46 0 0152 63.38 116.53 116.53 0 016.25 37.94z"/>
            </clipPath>
            <clipPath id="clipChar2">
                <path id="char2" class="cls-1"
                      d="M184.44 137.16a116.89 116.89 0 01-22.38 31.27 92.4 92.4 0 01-30.24 20.5 72.31 72.31 0 01-18.42 4.92 53.71 53.71 0 00.28-5.55 45.43 45.43 0 00-.2-4.54 54.51 54.51 0 00-12.11-30.06 73.25 73.25 0 009.56-16.54 92.47 92.47 0 006.86-35.84 116.53 116.53 0 00-6.29-37.94 117.39 117.39 0 0181-7.78 117.48 117.48 0 01-8.06 81.56z"/>
            </clipPath>
            <clipPath id="clipChar3">
                <path id="char3" class="cls-1"
                      d="M247.2 188.93a117.11 117.11 0 01-101.32 58.27 93 93 0 01-35.88-6.86 73.32 73.32 0 01-16.52-9.58 53.43 53.43 0 007.21-7.06 54.64 54.64 0 0012.69-29.85 72.31 72.31 0 0018.42-4.92 92.4 92.4 0 0030.24-20.5 116.89 116.89 0 0022.38-31.27 117.58 117.58 0 0162.78 51.77z"/>
            </clipPath>
            <clipPath id="clipChar4">
                <path id="char4" class="cls-1"
                      d="M191.6 321.89a117 117 0 01-112.84-30.44c-14.91-14.92-23.32-32.2-25.41-48.63 1.83.18 3.68.27 5.54.27a54.53 54.53 0 0034.61-12.33 73.32 73.32 0 0016.5 9.58 93 93 0 0035.86 6.86 117 117 0 0037.93-6.29 117.51 117.51 0 017.81 80.98z"/>
            </clipPath>
            <clipPath id="clipChar5">
                <path id="char5" class="cls-1"
                      d="M110 313.84a117.61 117.61 0 01-51.78 62.77A117.17 117.17 0 010 275.28c0-21.1 6.28-39.27 16.43-52.35a54.7 54.7 0 0036.92 19.89c2.09 16.43 10.5 33.71 25.41 48.63A117 117 0 00110 313.84z"/>
            </clipPath>
        </defs>
        <g>
            <path id="block1" :fill="'url('+ '#anim-gradient-p' + player + ')'"
                  d="M117.79 101.32a92.47 92.47 0 01-6.86 35.84 73.25 73.25 0 01-9.56 16.54 52.45 52.45 0 00-7.08-7.21 54.48 54.48 0 00-35.4-13c-1.53 0-3 .05-4.53.2a54.49 54.49 0 00-37.26 19.2C7.3 139.86 1.28 122 1.28 101.32A117.14 117.14 0 0159.54 0a117.46 117.46 0 0152 63.38 116.53 116.53 0 016.25 37.94z"/>
            <path id="block2" :fill="'url('+ '#anim-gradient-p' + player + ')'"
                  d="M184.44 137.16a116.89 116.89 0 01-22.38 31.27 92.4 92.4 0 01-30.24 20.5 72.31 72.31 0 01-18.42 4.92 53.71 53.71 0 00.28-5.55 45.43 45.43 0 00-.2-4.54 54.51 54.51 0 00-12.11-30.06 73.25 73.25 0 009.56-16.54 92.47 92.47 0 006.86-35.84 116.53 116.53 0 00-6.29-37.94 117.39 117.39 0 0181-7.78 117.48 117.48 0 01-8.06 81.56z"/>
            <path id="block3" :fill="'url('+ '#anim-gradient-p' + player + ')'"
                  d="M247.2 188.93a117.11 117.11 0 01-101.32 58.27 93 93 0 01-35.88-6.86 73.32 73.32 0 01-16.52-9.58 53.43 53.43 0 007.21-7.06 54.64 54.64 0 0012.69-29.85 72.31 72.31 0 0018.42-4.92 92.4 92.4 0 0030.24-20.5 116.89 116.89 0 0022.38-31.27 117.58 117.58 0 0162.78 51.77z"/>
            <path id="block4" :fill="'url('+ '#anim-gradient-p' + player + ')'"
                  d="M191.6 321.89a117 117 0 01-112.84-30.44c-14.91-14.92-23.32-32.2-25.41-48.63 1.83.18 3.68.27 5.54.27a54.53 54.53 0 0034.61-12.33 73.32 73.32 0 0016.5 9.58 93 93 0 0035.86 6.86 117 117 0 0037.93-6.29 117.51 117.51 0 017.81 80.98z"/>
            <path id="char5"  :fill="'url('+ '#anim-gradient-p' + player + ')'"
                  d="M110 313.84a117.61 117.61 0 01-51.78 62.77A117.17 117.17 0 010 275.28c0-21.1 6.28-39.27 16.43-52.35a54.7 54.7 0 0036.92 19.89c2.09 16.43 10.5 33.71 25.41 48.63A117 117 0 00110 313.84z"/>
        </g>
        <g>
            <image :xlink:href="'assets/images/' + team['1'].image" clip-path="url(#clipChar1)" x="-41" y="-18"/>
            <image :xlink:href="'assets/images/' + team['2'].image" clip-path="url(#clipChar2)" x="45" y="15"/>
            <image :xlink:href="'assets/images/' + team['3'].image" clip-path="url(#clipChar3)" x="60" y="89"/>
            <image :xlink:href="'assets/images/' + team['4'].image" clip-path="url(#clipChar4)" x="25" y="170"/>
            <image :xlink:href="'assets/images/' + team['5'].image" clip-path="url(#clipChar5)" x="-42" y="200"/>
        </g>
        <path id="Center" :fill="'url('+ '#anim-gradient-p' + player + ')'"
              d="M113.68 188.3a53.71 53.71 0 01-.28 5.55 54.64 54.64 0 01-12.69 29.85 53.43 53.43 0 01-7.21 7.06 54.53 54.53 0 01-34.61 12.33c-1.86 0-3.71-.09-5.54-.27a54.8 54.8 0 011-109.12c1.5-.15 3-.2 4.53-.2a54.48 54.48 0 0135.4 13 52.45 52.45 0 017.08 7.21 54.51 54.51 0 0112.11 30.06 45.43 45.43 0 01.21 4.53z"/>
        <path id="Frame" :fill="'url('+ '#anim-gradient-p' + player + ')'"
              d="M247.2 188.93a117.58 117.58 0 00-62.76-51.77 117.48 117.48 0 008.06-81.56 117.59 117.59 0 00-30-3.89v2a115.64 115.64 0 0128.35 3.53A115 115 0 01160.64 167a89.91 89.91 0 01-29.58 20.06 71.22 71.22 0 01-15.47 4.43v-.15c.05-1 .08-2 .08-3v-.09c0-1.74-.07-3.29-.21-4.7-.06-.71-.13-1.41-.21-2.11 0-.19-.05-.38-.08-.57-.06-.5-.13-1-.21-1.5 0-.25-.08-.5-.12-.75-.08-.44-.15-.88-.24-1.31s-.11-.55-.17-.82-.17-.81-.26-1.22l-.21-.85-.3-1.16c-.08-.3-.17-.59-.25-.88l-.33-1.12c-.09-.29-.19-.59-.29-.88s-.24-.72-.37-1.08-.21-.59-.32-.89-.26-.7-.4-1.05-.24-.6-.37-.89-.28-.68-.43-1-.26-.59-.4-.89l-.46-1c-.15-.29-.29-.59-.44-.89l-.5-1-.47-.87-.54-.94c-.16-.29-.33-.58-.5-.87l-.57-.92-.54-.85-.6-.9-.58-.83c-.21-.29-.42-.59-.64-.88s-.39-.54-.6-.8l-.17-.24a75.53 75.53 0 008.87-15.74 93.86 93.86 0 007-36.61A118.57 118.57 0 00114 64.43a116 116 0 0148.55-10.72v-2a117.21 117.21 0 00-51 11.67A117.46 117.46 0 0059.54 0 117.14 117.14 0 001.28 101.32c0 19.82 5.54 37 14.62 49.9-.1.13-.22.25-.33.37a56.77 56.77 0 00-.69 72.6l.33.39C5.79 237.52 0 255.05 0 275.28a117.17 117.17 0 0058.26 101.33A117.61 117.61 0 00110 313.84a117.58 117.58 0 0081.56 8.05 117.51 117.51 0 00-7.79-81 117.48 117.48 0 0063.43-51.96zm-67.27-43.44a115.25 115.25 0 01-8.12 11.9 115.25 115.25 0 008.12-11.9zm-41.23 40.25c-1 .51-2 1-3 1.47 1.03-.46 2.02-.96 3-1.47zm-9.19 4.1q-2.31.85-4.62 1.55 2.31-.69 4.62-1.55zm-9.23 2.78c-1.62.38-3.24.69-4.85.94 1.57-.25 3.23-.56 4.85-.94zm-16.19-42.68zm-86.83-.25c-9-13-14-30.07-14-48.37a115.14 115.14 0 0156.26-99A115.27 115.27 0 01109.61 64a114.61 114.61 0 016.18 37.29 90 90 0 01-6.71 35.06 72 72 0 01-7.81 14.11l-.16-.17c-.48-.54-1-1.06-1.47-1.57-.16-.18-.33-.34-.5-.51-.41-.41-.83-.82-1.25-1.21l-.51-.48c-.57-.53-1.16-1-1.75-1.54l-.46-.37A56.79 56.79 0 0078.53 135l-.59-.21c-1.21-.43-2.44-.82-3.67-1.17a56.71 56.71 0 00-15.38-2.13c-1.31 0-2.51 0-3.63.12-.36 0-.71 0-1.06.09h-.07c-.9.07-1.78.16-2.66.27l-.93.14-1.77.28-1.09.22c-.53.1-1.06.2-1.58.32l-1.14.28-1.49.39-1.15.34c-.48.15-1 .29-1.43.45l-1.16.4c-.46.17-.92.33-1.37.51l-1.16.46-1.32.57-1.14.52c-.44.2-.86.41-1.29.62l-1.12.58c-.42.22-.84.45-1.25.69s-.74.41-1.1.63l-1.22.74c-.35.23-.71.45-1.06.69l-1.19.8-1 .74c-.39.28-.77.57-1.15.87s-.67.51-1 .77l-1.13.95c-.32.27-.63.53-.94.81l-1.12 1-.88.83c-.38.38-.75.77-1.13 1.16l-.78.8zM6.1 188.3a52.75 52.75 0 0112.53-34.12 52.2 52.2 0 0135.93-18.49c1.32-.13 2.73-.19 4.33-.19A52.72 52.72 0 0193 148a49.71 49.71 0 016.82 7 52.35 52.35 0 0111.67 29c.13 1.32.19 2.74.19 4.35a52.73 52.73 0 01-12.5 34.11 50.55 50.55 0 01-7 6.8 52.89 52.89 0 01-33.34 11.88c-1.79 0-3.58-.09-5.34-.26A52.82 52.82 0 016.1 188.3zm52.16 186A115.17 115.17 0 012 275.28c0-18.7 5.15-36 14.54-49.15l.1.11c.2.23.41.44.62.66.4.45.81.89 1.23 1.31l.75.74c.39.38.78.76 1.18 1.13l.83.74c.39.35.78.7 1.18 1l.87.72c.4.33.81.64 1.21 1l.91.69 1.25.88.94.64c.43.29.87.56 1.31.84s.62.39.93.57.94.54 1.41.81l.89.49c.53.29 1.07.56 1.62.82l.74.38c.8.37 1.6.73 2.42 1.07l.23.1c.74.3 1.48.59 2.23.86.29.11.58.2.87.3.55.19 1.1.38 1.65.55.34.11.69.2 1 .3l1.54.43 1.1.27 1.51.34 1.14.22c.5.1 1 .19 1.51.27l1.17.18.67.1c2.57 17.07 11.68 34.14 25.77 48.23a118.76 118.76 0 0030.21 22 115.58 115.58 0 01-49.27 59.41zm131.69-54A115 115 0 0180.18 290C67 276.81 58.33 260.91 55.69 245h.15c1 .05 2 .08 3 .08.79 0 1.59 0 2.38-.05h.83l1.55-.1 1-.1c.47 0 .93-.09 1.39-.15l1-.16 1.31-.19 1.09-.21 1.23-.24 1.12-.26 1.26-.32 1.13-.32 1.14-.32 1.15-.37 1.1-.36 1.15-.42 1.06-.41 1.15-.47 1-.44 1.14-.52 1-.48c.38-.19.76-.38 1.13-.58l1-.52 1.11-.62 1-.56 1.08-.67.93-.6 1-.71.94-.66 1-.73.33-.25a76 76 0 0015.73 8.89 94.39 94.39 0 0036.63 7 119 119 0 0036.88-5.83 115.43 115.43 0 017.22 76.9zm-44.07-73.1zm14.7-.92q4.81-.6 9.5-1.59-4.68.99-9.5 1.59zm22.59-7.28a115.1 115.1 0 01-37.29 6.18 90.64 90.64 0 01-35.08-6.7 72.22 72.22 0 01-14.09-7.84c.58-.51 1.14-1 1.7-1.59l.5-.48 1.23-1.27.48-.52a45.9 45.9 0 002.94-3.44c.15-.18.28-.37.43-.55.28-.38.57-.75.84-1.12l.49-.69c.24-.34.48-.68.71-1s.33-.5.49-.75.44-.66.64-1 .32-.53.48-.79.4-.66.59-1 .31-.54.46-.82l.54-1c.15-.28.29-.57.43-.85s.34-.67.5-1 .27-.57.4-.86.31-.69.46-1 .25-.59.37-.88l.42-1c.12-.3.23-.6.34-.9s.26-.7.38-1l.3-.91c.12-.35.24-.71.35-1.07l.27-.91.3-1.1.24-.91c.09-.37.18-.75.26-1.12l.21-.92c.08-.37.15-.75.22-1.13s.12-.61.17-.92.13-.78.18-1.17.1-.6.14-.9v-.31a75.28 75.28 0 0017.36-4.83 94 94 0 0030.9-20.94 119 119 0 0022-30.21 115.48 115.48 0 0159.44 49.29 115.24 115.24 0 01-61.7 49.93z"/>
    </svg>
</template>

<script>
    import {EventBus} from "../javascript";

    export default {
        name: "TeamFlower",
        props: ['player', 'position', 'scale', 'gdc1', 'gdc2'],
        created() {
            EventBus.$on('changedchar', this.changeDisplayCharacter)
        },
        data() {
            return {
                team: {
                    1: {code: "disabled", displayName: "Disabled", image: ""},
                    2: {code: "disabled", displayName: "Disabled", image: ""},
                    3: {code: "disabled", displayName: "Disabled", image: ""},
                    4: {code: "disabled", displayName: "Disabled", image: ""},
                    5: {code: "disabled", displayName: "Disabled", image: ""}
                },
                enabled: true,
            }
        },
        methods: {
            changeDisplayCharacter: function (payload) {
                if (this.player === payload.player) {
                    if (payload.char.code === "disabled") {
                        this.team[payload.charNo] = {code: "disabled", displayName: "Disabled", image: ""};
                        return true;
                    }
                    this.team[payload.charNo] = payload.char;
                    return true;
                }
            },
            mountGradient(colorStart, colorEnd) {
                return `${colorStart}; ${colorEnd}; ${colorStart}`;
            }
        }
    }
</script>

<style scoped>
</style>